{"metadata":{"categoryPathComponent":"table-of-content","role":"project","title":"Write your first Lambda function","category":"AWS Lambda functions in Swift"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function"},"kind":"project","hierarchy":{"paths":[["doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content","doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/$volume","doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Your-first-Lambda-function-in-Swift"]],"modules":[{"projects":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/01-overview","sections":[]},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda","sections":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda#When-to-use-AWS-Lambda","kind":"heading"}]},{"sections":[],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-prerequisites"}],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Before-getting-started"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Your-first-Lambda-function-in-Swift","projects":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function","sections":[{"kind":"task","reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Initialize-a-new-project"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Add-the-project-dependencies","kind":"task"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Write-the-function-code","kind":"task"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Test-Your-Code-Locally","kind":"task"}]}]},{"projects":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function","sections":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Compile-for-Amazon-Linux","kind":"task"},{"kind":"task","reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Create-an-Lambda-Function"},{"kind":"task","reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Invoke-your-Lambda-function"}]}],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Deploy-your-code-to-the-cloud"}],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/awslambdaruntimecore\/03-write-function"]}],"sections":[{"estimatedTimeInMinutes":15,"title":"Write your first Lambda function","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}]}],"kind":"hero","chapter":"Your first Lambda function in Swift"},{"kind":"tasks","tasks":[{"title":"Initialize a new project","anchor":"Initialize-a-new-project","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a new swift project and open Xcode."}]}],"media":"03-01-terminal-package-init.png"}],"stepsSection":[{"inlineContent":[{"text":"Start in your development folder.","type":"text"}],"type":"paragraph"},{"caption":[],"type":"step","content":[{"inlineContent":[{"type":"text","text":"Open a Terminal and create a directory for your Lambda function."}],"type":"paragraph"}],"media":null,"runtimePreview":null,"code":"03-01-01-package-init.sh"},{"caption":[],"runtimePreview":null,"type":"step","content":[{"inlineContent":[{"type":"text","text":"Initialize a new Swift package for an executable target."}],"type":"paragraph"}],"media":null,"code":"03-01-02-package-init.sh"},{"runtimePreview":null,"code":"03-01-03-package-init.sh","caption":[],"type":"step","content":[{"inlineContent":[{"text":"Open Xcode in this newly created directory.","type":"text"}],"type":"paragraph"}],"media":null},{"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Alternatively, if you use VSCode, use the ","type":"text"},{"code":"code","type":"codeVoice"},{"type":"text","text":" command to open VSCode in your project repository."}]}],"media":null,"code":"03-01-04-package-init.sh","runtimePreview":null,"caption":[]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In your development environment, expand the project if necessary and open the file "},{"code":"Package.swift","type":"codeVoice"},{"text":".","type":"text"}]}],"caption":[{"inlineContent":[{"type":"text","text":"If you are an iOS developer, you might wonder what is a "},{"type":"codeVoice","code":"Package.swift"},{"text":". In simple terms, your ","type":"text"},{"code":"Package.swift","type":"codeVoice"},{"text":" defines the dependencies your code has and what products (libraries and\/or executables) your code offers.","type":"text"}],"type":"paragraph"}],"code":null,"runtimePreview":null,"type":"step","media":"03-01-xcode.png"}]},{"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prepare "},{"type":"codeVoice","code":"Package.swift"},{"text":" to define the project targets and dependencies.","type":"text"}]}],"media":"03-02-swift-package-manager.png","mediaPosition":"trailing","kind":"contentAndMedia"}],"title":"Add the project dependencies","anchor":"Add-the-project-dependencies","stepsSection":[{"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In the Xcode editor, replace the content of "},{"type":"codeVoice","code":"Package.swift"},{"text":" with the file on the right side of the screen.","type":"text"}]}],"caption":[{"type":"paragraph","inlineContent":[{"text":"It defines a package for a project named ","type":"text"},{"code":"SquareNumberLambda","type":"codeVoice"},{"type":"text","text":". The package name only matters when you build a library that is used by other Swift packages."}]},{"style":"note","type":"aside","content":[{"inlineContent":[{"type":"text","text":"Comments are important here, do not skip them. They define the minimum version of Swift to use."}],"type":"paragraph"}],"name":"Note"}],"type":"step","media":null,"code":"03-02-01-package.swift"},{"media":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"It defines on which Apple platforms the code can be executed. Since Lambda functions are supposed to be run on Linux servers with Amazon Linux 2, it is reasonable to make them run only on macOS, for debugging for example. It does not make sense to run this code on iOS, iPadOS, tvOS, and watchOS.","type":"text"}]}],"code":"03-02-02-package.swift","type":"step","runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Add the "},{"code":"platform","type":"codeVoice"},{"type":"text","text":" section."}],"type":"paragraph"}]},{"code":"03-02-03-package.swift","runtimePreview":null,"content":[{"inlineContent":[{"text":"Add the ","type":"text"},{"code":"dependencies","type":"codeVoice"},{"type":"text","text":" section."}],"type":"paragraph"}],"type":"step","caption":[{"inlineContent":[{"type":"text","text":"It defines what external libraries your code depends on. To run code within AWS Lambda youâ€™ll need a runtime that handles the communication with the "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/lambda\/latest\/dg\/runtimes-api.html"},{"text":". This is what the ","type":"text"},{"type":"codeVoice","code":"AWSLambdaRuntime"},{"type":"text","text":" is for. You import it by specifying its GitHub url: "},{"type":"codeVoice","code":"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git"},{"type":"text","text":"."}],"type":"paragraph"}],"media":null},{"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In the "},{"type":"codeVoice","code":"targets"},{"type":"text","text":" section you specify your own targets. They are pretty comparable to targets you specify within an Xcode project (thatâ€™s probably why they share the name ðŸ˜Ž). In our example we only want to create an executable that is called "},{"code":"SquareNumberLambda","type":"codeVoice"},{"type":"text","text":". An executable must have an entrypoint. This can be either a "},{"type":"codeVoice","code":"main.swift"},{"text":" or an object that is marked with ","type":"text"},{"type":"codeVoice","code":"@main"},{"type":"text","text":". For Lambda we will use the "},{"type":"codeVoice","code":"@main"},{"type":"text","text":" approach."}]}],"media":null,"code":"03-02-04-package.swift","runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Add the "},{"type":"codeVoice","code":"target"},{"type":"text","text":" section."}],"type":"paragraph"}],"type":"step"},{"runtimePreview":null,"caption":[{"inlineContent":[{"text":"To advertise our ","type":"text"},{"code":"executableTarget","type":"codeVoice"},{"type":"text","text":" as a product of our package, we add it to the "},{"code":"products","type":"codeVoice"},{"type":"text","text":" section."}],"type":"paragraph"}],"type":"step","media":null,"code":"03-02-05-package.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add the "},{"type":"codeVoice","code":"product"},{"type":"text","text":" section."}]}]}]},{"contentSection":[{"media":"03-03-swift-code-xcode.png","content":[{"inlineContent":[{"type":"text","text":"Now that our project structure is ready, letâ€™s write the code of your Lambda function. Perform the following steps in Xcode or another IDE of your choice."}],"type":"paragraph"}],"kind":"contentAndMedia","mediaPosition":"trailing"}],"title":"Write the function code","stepsSection":[{"type":"step","content":[{"inlineContent":[{"type":"text","text":"Rename the file "},{"code":"main.swift","type":"codeVoice"},{"text":" to something else. I typically use ","type":"text"},{"type":"codeVoice","code":"Lambda.swift"},{"type":"text","text":"."}],"type":"paragraph"}],"runtimePreview":null,"media":"03-03-01-rename-file.png","caption":[{"inlineContent":[{"text":"The ","type":"text"},{"code":"AWSLambdaRuntime","type":"codeVoice"},{"type":"text","text":" use the "},{"identifier":"https:\/\/github.com\/apple\/swift-evolution\/blob\/main\/proposals\/0281-main-attribute.md","isActive":true,"type":"reference"},{"text":" directive to designate the entry point in your code.","type":"text"}],"type":"paragraph"},{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"A ","type":"text"},{"type":"codeVoice","code":"main.swift"},{"text":" file is always considered to be an entry point, even if it has no top-level code. Because of this, placing the @main-designated type in a ","type":"text"},{"type":"codeVoice","code":"main.swift"},{"text":" file is an error.","type":"text"}]}]}],"code":null},{"runtimePreview":null,"caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Remove the code generated and create a ","type":"text"},{"type":"codeVoice","code":"@main struct"},{"text":" that implements the protocol ","type":"text"},{"type":"codeVoice","code":"SimpleLambdaHandler"}]}],"code":"03-03-01-main.swift","type":"step"},{"runtimePreview":null,"media":null,"code":"03-03-02-main.swift","content":[{"inlineContent":[{"text":"Add an import statement to import the ","type":"text"},{"code":"AWSLambdaRuntime","type":"codeVoice"},{"type":"text","text":" library."}],"type":"paragraph"}],"type":"step","caption":[]},{"code":"03-03-03-main.swift","runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"handle(_:context:)"},{"type":"text","text":" function is the entry point of the Lambda function."}]}],"type":"step","content":[{"inlineContent":[{"text":"Write the ","type":"text"},{"code":"handle(_:context:) async throws -> Output","type":"codeVoice"},{"text":" function as defined in ","type":"text"},{"type":"codeVoice","code":"SimpleLambdaHandler"},{"type":"text","text":" protocol."}],"type":"paragraph"}],"media":null},{"content":[{"inlineContent":[{"type":"text","text":"Add the definition of the input and output parameters."}],"type":"paragraph"}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Input and Output parameters must conform to the "},{"type":"codeVoice","code":"Codable"},{"text":" protocol. This ensures that your Lambda function accepts a JSON input and creates a JSON output.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Your function can use any "},{"code":"Codable","type":"codeVoice"},{"type":"text","text":". When your function is triggered by another AWS service, we modeled most of the input and output data format for you. You can add the dependency on https:\/\/github.com\/swift-server\/swift-aws-lambda-events and import "},{"code":"AWSLambdaEvents","type":"codeVoice"},{"text":" in your code.","type":"text"}]}],"type":"step","code":"03-03-04-main.swift","runtimePreview":null,"media":null},{"type":"step","code":"03-03-05-main.swift","runtimePreview":null,"caption":[],"media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Modify the "},{"code":"struct","type":"codeVoice"},{"type":"text","text":" and the "},{"code":"handle(_:context:)","type":"codeVoice"},{"type":"text","text":" function to use your input and output parameter types."}]}]},{"type":"step","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"As mentioned earlier, this example is very simple, it just squares the number received as input. Your actual function can do whatever you want: call APIs, access a database, or any other task your business requires."}]}],"media":null,"runtimePreview":null,"code":"03-03-06-main.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add your function-specific business logic."}]}]}],"anchor":"Write-the-function-code"},{"title":"Test Your Code Locally","contentSection":[{"media":"03-04-test-locally.png","kind":"contentAndMedia","mediaPosition":"trailing","content":[{"type":"paragraph","inlineContent":[{"text":"Before to deploy your Lambda to AWS, you want to ensure that it works on your local machine.","type":"text"}]},{"inlineContent":[{"text":"The ","type":"text"},{"type":"codeVoice","code":"AWSLambdaRuntime"},{"text":" embeds a simple web server you can start and use to send your requests to your Lambda function.","type":"text"}],"type":"paragraph"}]}],"stepsSection":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The embedded web server starts only when an environment variable is defined. You will edit the Run step of the target scheme to include the environment variable. This will allow you to run your code from Xcode."}]},{"type":"step","media":"03-04-01-edit-scheme.png","code":null,"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Select "},{"code":"Edit Scheme","type":"codeVoice"},{"type":"text","text":" under "},{"code":"SquareNumberLambda","type":"codeVoice"},{"type":"text","text":" target."}],"type":"paragraph"}],"caption":[]},{"code":null,"runtimePreview":null,"caption":[],"type":"step","media":"03-04-02-add-variable.png","content":[{"inlineContent":[{"type":"text","text":"Add the "},{"type":"codeVoice","code":"LOCAL_LAMBDA_SERVER_ENABLED"},{"text":" environment variable, with a value of ","type":"text"},{"code":"true","type":"codeVoice"},{"type":"text","text":" under "},{"type":"codeVoice","code":"Run"},{"type":"text","text":" settings."}],"type":"paragraph"}]},{"caption":[],"media":null,"code":"03-04-03-console-output.sh","runtimePreview":null,"type":"step","content":[{"inlineContent":[{"type":"text","text":"Compile and Run your project. You should see the following output in the console."}],"type":"paragraph"}]},{"code":"03-04-04-curl.sh","caption":[],"content":[{"inlineContent":[{"type":"text","text":"Now that the local server started, open a Terminal and use "},{"code":"curl","type":"codeVoice"},{"type":"text","text":" or any other HTTP client to POST your input payload to "},{"code":"localhost:7000","type":"codeVoice"},{"type":"text","text":"."}],"type":"paragraph"}],"media":null,"type":"step","runtimePreview":null},{"content":[{"inlineContent":[{"type":"text","text":"When you pass "},{"code":"{\"number\":3}","type":"codeVoice"},{"text":", you should receive the response ","type":"text"},{"code":"{\"result\":9}","type":"codeVoice"}],"type":"paragraph"}],"runtimePreview":null,"media":null,"code":"03-04-05-curl.sh","caption":[{"style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Do not forget to stop the running scheme when youâ€™re done."}]}],"type":"aside"}],"type":"step"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Alternatively, you can use the command line from the Terminal."}]},{"type":"step","content":[{"inlineContent":[{"text":"From a Terminal, set the ","type":"text"},{"type":"codeVoice","code":"LOCAL_LAMBDA_SERVER_ENABLED"},{"type":"text","text":" environment variable to "},{"type":"codeVoice","code":"true"}],"type":"paragraph"}],"code":"03-04-06-terminal.sh","runtimePreview":null,"media":null,"caption":[]},{"caption":[],"type":"step","code":"03-04-07-terminal.sh","runtimePreview":null,"media":null,"content":[{"inlineContent":[{"text":"Use the command ","type":"text"},{"type":"codeVoice","code":"swift run"},{"type":"text","text":" to start the local embedded web server."}],"type":"paragraph"}]},{"code":"03-04-08-terminal.sh","content":[{"type":"paragraph","inlineContent":[{"text":"You should see the following output in the console.","type":"text"}]}],"caption":[],"runtimePreview":null,"type":"step","media":null},{"code":"03-04-04-curl.sh","type":"step","caption":[{"name":"Note","type":"aside","style":"note","content":[{"inlineContent":[{"text":"Do not forget to stop the local server with ","type":"text"},{"code":"CTRL-C","type":"codeVoice"},{"text":" when youâ€™re done.","type":"text"}],"type":"paragraph"}]}],"runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Now that the local server started, open a second tab in the Terminal and use "},{"type":"codeVoice","code":"curl"},{"type":"text","text":" or any other HTTP client to POST your input payload to "},{"type":"codeVoice","code":"localhost:7000"},{"type":"text","text":"."}],"type":"paragraph"}],"media":null}],"anchor":"Test-Your-Code-Locally"}]},{"action":{"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function","type":"reference","isActive":true,"overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}]},"kind":"callToAction","title":"Deploy your function to AWS Lambda","abstract":[{"text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console","type":"text"}],"featuredEyebrow":"Tutorial"}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function#Create-an-Lambda-Function":{"kind":"section","type":"section","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Create-an-Lambda-Function","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function#Create-an-Lambda-Function","role":"pseudoSymbol","title":"Create an Lambda Function"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Add-the-project-dependencies":{"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Add-the-project-dependencies","title":"Add the project dependencies","type":"section","abstract":[{"text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift.","type":"text"}],"role":"pseudoSymbol","kind":"section","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Add-the-project-dependencies"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/02-what-is-lambda#When-to-use-AWS-Lambda":{"title":"When to use AWS Lambda","url":"\/tutorials\/awslambdaruntimecore\/02-what-is-lambda#When-to-use-AWS-Lambda","role":"pseudoSymbol","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda#When-to-use-AWS-Lambda","abstract":[],"type":"section","kind":"section"},"03-04-03-console-output.sh":{"highlights":[],"fileName":"Console output","type":"file","syntax":"","identifier":"03-04-03-console-output.sh","fileType":"","content":["# shellcheck disable=all","","2023-04-14T11:42:21+0200 info LocalLambdaServer : [AWSLambdaRuntimeCore] LocalLambdaServer started and listening on 127.0.0.1:7000, receiving events on \/invoke","2023-04-14T11:42:21+0200 info Lambda : [AWSLambdaRuntimeCore] lambda runtime starting with LambdaConfiguration","  General(logLevel: info))","  Lifecycle(id: 104957691689708, maxTimes: 0, stopSignal: TERM)","  RuntimeEngine(ip: 127.0.0.1, port: 7000, requestTimeout: nil"]},"03-03-03-main.swift":{"identifier":"03-03-03-main.swift","highlights":[{"line":4},{"line":5},{"line":6}],"fileType":"swift","syntax":"swift","fileName":"Lambda.swift","content":["import AWSLambdaRuntime","","@main","struct SquareNumberHandler: SimpleLambdaHandler {","    func handle(_ event: Event, context: LambdaContext) async throws -> Output {}","}"],"type":"file"},"03-04-07-terminal.sh":{"highlights":[{"line":4}],"fileName":"curl command in a terminal","type":"file","syntax":"","identifier":"03-04-07-terminal.sh","fileType":"","content":["# shellcheck disable=all","","export LOCAL_LAMBDA_SERVER_ENABLED=true","swift run"]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Write-the-function-code":{"role":"pseudoSymbol","title":"Write the function code","kind":"section","abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"type":"section","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Write-the-function-code","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Write-the-function-code"},"03-01-03-package-init.sh":{"identifier":"03-01-03-package-init.sh","highlights":[{"line":6},{"line":7}],"fileType":"","syntax":"","fileName":"Commands to type in the Terminal","content":["# shellcheck disable=all","# Create a project directory","mkdir SquareNumber && cd SquareNumber","# create a skeleton project","swift package init --type executable ","# open Xcode in the current directory","xed ."],"type":"file"},"03-01-xcode.png":{"alt":"project open in Xcode","type":"image","identifier":"03-01-xcode.png","variants":[{"traits":["2x","light"],"url":"\/images\/AWSLambdaRuntimeCore\/03-01-xcode@2x.png"},{"traits":["2x","dark"],"url":"\/images\/AWSLambdaRuntimeCore\/03-01-xcode~dark@2x.png"}]},"03-03-04-main.swift":{"identifier":"03-03-04-main.swift","highlights":[{"line":3},{"line":4},{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10}],"fileType":"swift","syntax":"swift","fileName":"Lambda.swift","content":["import AWSLambdaRuntime","","struct Input: Codable {","    let number: Double","}","","struct Number: Codable {","    let result: Double","}","","@main","struct SquareNumberHandler: SimpleLambdaHandler {","    func handle(_ event: Event, context: LambdaContext) async throws -> Output {}","}"],"type":"file"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content":{"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content","kind":"overview","title":"Your First Lambda Function Written in Swift","abstract":[{"type":"text","text":"A step-by-step tutorial to learn how to implement, build, test, and deploy your first Lambda function written in Swift."}],"type":"topic","role":"overview","url":"\/tutorials\/table-of-content"},"03-02-04-package.swift":{"highlights":[{"line":11},{"line":12},{"line":13}],"fileName":"Package.swift","type":"file","syntax":"swift","identifier":"03-02-04-package.swift","fileType":"swift","content":["\/\/ swift-tools-version:5.8","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"SquareNumberLambda\",","    platforms: [","        .macOS(.v12)","    ],","    products: [","        .executable(name: \"SquareNumberLambda\", targets: [\"SquareNumberLambda\"])","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", from: \"1.0.0-alpha\")","    ]",")"]},"03-04-08-terminal.sh":{"identifier":"03-04-08-terminal.sh","highlights":[{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11},{"line":12}],"fileType":"","syntax":"","fileName":"curl command in a terminal","content":["# shellcheck disable=all","","export LOCAL_LAMBDA_SERVER_ENABLED=true","swift run","","Building for debugging...","Build complete! (0.20s)","2023-04-14T10:52:25+0200 info LocalLambdaServer : [AWSLambdaRuntimeCore] LocalLambdaServer started and listening on 127.0.0.1:7000, receiving events on \/invoke","2023-04-14T10:52:25+0200 info Lambda : [AWSLambdaRuntimeCore] lambda runtime starting with LambdaConfiguration","  General(logLevel: info))","  Lifecycle(id: 102943961260250, maxTimes: 0, stopSignal: TERM)","  RuntimeEngine(ip: 127.0.0.1, port: 7000, requestTimeout: nil"],"type":"file"},"03-01-terminal-package-init.png":{"alt":"A Terminal with package init command","type":"image","identifier":"03-01-terminal-package-init.png","variants":[{"traits":["1x","light"],"url":"\/images\/AWSLambdaRuntimeCore\/03-01-terminal-package-init.png"}]},"03-04-02-add-variable.png":{"variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-04-02-add-variable@2x.png","traits":["2x","light"]},{"url":"\/images\/AWSLambdaRuntimeCore\/03-04-02-add-variable~dark@2x.png","traits":["2x","dark"]}],"identifier":"03-04-02-add-variable.png","alt":"Add environment variable under Run settings","type":"image"},"03-02-swift-package-manager.png":{"variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-02-swift-package-manager.png","traits":["1x","light"]}],"identifier":"03-02-swift-package-manager.png","alt":"Swift Package Manager icon as a box","type":"image"},"03-04-test-locally.png":{"variants":[{"traits":["1x","light"],"url":"\/images\/AWSLambdaRuntimeCore\/03-04-test-locally.png"}],"identifier":"03-04-test-locally.png","alt":"Icons of succeeded and failed tests","type":"image"},"03-04-01-edit-scheme.png":{"type":"image","alt":"Menu entry to edit schemes","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-04-01-edit-scheme@2x.png","traits":["2x","light"]},{"traits":["2x","dark"],"url":"\/images\/AWSLambdaRuntimeCore\/03-04-01-edit-scheme~dark@2x.png"}],"identifier":"03-04-01-edit-scheme.png"},"https://github.com/apple/swift-evolution/blob/main/proposals/0281-main-attribute.md":{"title":"@main","identifier":"https:\/\/github.com\/apple\/swift-evolution\/blob\/main\/proposals\/0281-main-attribute.md","titleInlineContent":[{"code":"@main","type":"codeVoice"}],"type":"link","url":"https:\/\/github.com\/apple\/swift-evolution\/blob\/main\/proposals\/0281-main-attribute.md"},"03-02-01-package.swift":{"identifier":"03-02-01-package.swift","content":["\/\/ swift-tools-version:5.8","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"SquareNumberLambda\"",")"],"highlights":[],"syntax":"swift","fileName":"Package.swift","type":"file","fileType":"swift"},"03-04-04-curl.sh":{"identifier":"03-04-04-curl.sh","content":["# shellcheck disable=all","","curl --header \"Content-Type: application\/json\" \\","     --request POST                            \\","     --data '{\"number\": 3}'                    \\","     http:\/\/localhost:7000\/invoke",""],"highlights":[{"line":3},{"line":4},{"line":5},{"line":6}],"syntax":"","fileName":"curl command in a terminal","type":"file","fileType":""},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function#Compile-for-Amazon-Linux":{"type":"section","role":"pseudoSymbol","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function#Compile-for-Amazon-Linux","kind":"section","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Compile-for-Amazon-Linux","title":"Compile for Amazon Linux"},"03-03-02-main.swift":{"fileName":"Lambda.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":1},{"line":2}],"identifier":"03-03-02-main.swift","content":["import AWSLambdaRuntime","","@main","struct SquareNumberHandler: SimpleLambdaHandler {}"]},"03-02-05-package.swift":{"identifier":"03-02-05-package.swift","content":["\/\/ swift-tools-version:5.8","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"SquareNumberLambda\",","    platforms: [","        .macOS(.v12)","    ],","    products: [","        .executable(name: \"SquareNumberLambda\", targets: [\"SquareNumberLambda\"])","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", from: \"1.0.0-alpha\")","    ],","    targets: [","        .executableTarget(","            name: \"SquareNumberLambda\",","            dependencies: [","                .product(name: \"AWSLambdaRuntime\", package: \"swift-aws-lambda-runtime\")","            ],","            path: \"Sources\"","        )","    ]",")"],"highlights":[{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24}],"syntax":"swift","fileName":"Package.swift","type":"file","fileType":"swift"},"03-02-03-package.swift":{"fileName":"Package.swift","type":"file","syntax":"swift","fileType":"swift","highlights":[{"line":10},{"line":11},{"line":12}],"identifier":"03-02-03-package.swift","content":["\/\/ swift-tools-version:5.8","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"SquareNumberLambda\",","    platforms: [","        .macOS(.v12)","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", from: \"1.0.0-alpha\")","    ]",")"]},"03-03-01-rename-file.png":{"identifier":"03-03-01-rename-file.png","type":"image","alt":"Rename the file in Xcode IDE","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-03-01-rename-file@2x.png","traits":["2x","light"]},{"url":"\/images\/AWSLambdaRuntimeCore\/03-03-01-rename-file~dark@2x.png","traits":["2x","dark"]}]},"03-03-06-main.swift":{"fileName":"Lambda.swift","type":"file","fileType":"swift","identifier":"03-03-06-main.swift","content":["import AWSLambdaRuntime","","struct Input: Codable {","    let number: Double","}","","struct Number: Codable {","    let result: Double","}","","@main","struct SquareNumberHandler: SimpleLambdaHandler {","    typealias Event = Input","    typealias Output = Number","","    func handle(_ event: Event, context: LambdaContext) async throws -> Output {","        Number(result: event.number * event.number)","    }","}"],"syntax":"swift","highlights":[{"line":16},{"line":17},{"line":18}]},"03-04-06-terminal.sh":{"syntax":"","fileName":"curl command in a terminal","type":"file","fileType":"","highlights":[{"line":3}],"identifier":"03-04-06-terminal.sh","content":["# shellcheck disable=all","","export LOCAL_LAMBDA_SERVER_ENABLED=true"]},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content/Before-getting-started":{"title":"Before getting started","url":"\/tutorials\/table-of-content\/before-getting-started","role":"article","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Before-getting-started","abstract":[],"type":"topic","kind":"article"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function":{"type":"topic","title":"Deploy your function to AWS Lambda","role":"project","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function","kind":"project","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function","estimatedTime":"15min","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}]},"https://docs.aws.amazon.com/lambda/latest/dg/runtimes-api.html":{"title":"Lambda Runtime Interface","identifier":"https:\/\/docs.aws.amazon.com\/lambda\/latest\/dg\/runtimes-api.html","titleInlineContent":[{"type":"text","text":"Lambda Runtime Interface"}],"type":"link","url":"https:\/\/docs.aws.amazon.com\/lambda\/latest\/dg\/runtimes-api.html"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content/Deploy-your-code-to-the-cloud":{"type":"topic","role":"article","url":"\/tutorials\/table-of-content\/deploy-your-code-to-the-cloud","kind":"article","abstract":[],"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Deploy-your-code-to-the-cloud","title":"Deploy your code to the cloud"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-prerequisites":{"estimatedTime":"3min","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-prerequisites","kind":"article","title":"Prerequisites","abstract":[],"type":"topic","role":"article","url":"\/tutorials\/awslambdaruntimecore\/03-prerequisites"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content/Your-first-Lambda-function-in-Swift":{"type":"topic","role":"article","url":"\/tutorials\/table-of-content\/your-first-lambda-function-in-swift","kind":"article","abstract":[],"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Your-first-Lambda-function-in-Swift","title":"Your first Lambda function in Swift"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function":{"title":"Write your first Lambda function","estimatedTime":"15min","url":"\/tutorials\/awslambdaruntimecore\/03-write-function","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function","abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"type":"topic","kind":"project","role":"project"},"03-01-04-package-init.sh":{"identifier":"03-01-04-package-init.sh","content":["# shellcheck disable=all","# Create a project directory","mkdir SquareNumber && cd SquareNumber","# create a skeleton project","swift package init --type executable ","# open Xcode in the current directory","xed .","# alternatively, you may open VSCode","code ."],"highlights":[{"line":8},{"line":9}],"syntax":"","fileName":"Commands to type in the Terminal","type":"file","fileType":""},"03-01-02-package-init.sh":{"identifier":"03-01-02-package-init.sh","content":["# shellcheck disable=all","# Create a project directory","mkdir SquareNumber && cd SquareNumber","# create a skeleton project","swift package init --type executable "],"highlights":[{"line":4},{"line":5}],"syntax":"","fileName":"Commands to type in the Terminal","type":"file","fileType":""},"03-01-01-package-init.sh":{"syntax":"","fileName":"Commands to type in the Terminal","type":"file","fileType":"","highlights":[],"identifier":"03-01-01-package-init.sh","content":["# shellcheck disable=all","# Create a project directory","mkdir SquareNumber && cd SquareNumber"]},"03-03-05-main.swift":{"fileName":"Lambda.swift","type":"file","fileType":"swift","identifier":"03-03-05-main.swift","content":["import AWSLambdaRuntime","","struct Input: Codable {","    let number: Double","}","","struct Number: Codable {","    let result: Double","}","","@main","struct SquareNumberHandler: SimpleLambdaHandler {","    typealias Event = Input","    typealias Output = Number","","    func handle(_ event: Event, context: LambdaContext) async throws -> Output {}","}"],"syntax":"swift","highlights":[{"line":13},{"line":14},{"line":15}]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Initialize-a-new-project":{"role":"pseudoSymbol","title":"Initialize a new project","kind":"section","abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"type":"section","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Initialize-a-new-project","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Initialize-a-new-project"},"03-03-swift-code-xcode.png":{"type":"image","alt":"Swift code in Xcode","identifier":"03-03-swift-code-xcode.png","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-03-swift-code-xcode.png","traits":["1x","light"]}]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/01-overview":{"estimatedTime":"1min","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/01-overview","kind":"article","title":"Overview","type":"topic","abstract":[],"role":"article","url":"\/tutorials\/awslambdaruntimecore\/01-overview"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/02-what-is-lambda":{"title":"What is AWS Lambda","estimatedTime":"3min","url":"\/tutorials\/awslambdaruntimecore\/02-what-is-lambda","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda","abstract":[],"type":"topic","kind":"article","role":"article"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Test-Your-Code-Locally":{"title":"Test Your Code Locally","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Test-Your-Code-Locally","role":"pseudoSymbol","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Test-Your-Code-Locally","abstract":[{"text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift.","type":"text"}],"type":"section","kind":"section"},"03-02-02-package.swift":{"identifier":"03-02-02-package.swift","content":["\/\/ swift-tools-version:5.8","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"SquareNumberLambda\",","    platforms: [","        .macOS(.v12)","    ]",")"],"highlights":[{"line":7},{"line":8},{"line":9},{"line":10}],"syntax":"swift","fileName":"Package.swift","type":"file","fileType":"swift"},"03-03-01-main.swift":{"identifier":"03-03-01-main.swift","content":["@main","struct SquareNumberHandler: SimpleLambdaHandler {}"],"highlights":[],"syntax":"swift","fileName":"Lambda.swift","type":"file","fileType":"swift"},"03-04-05-curl.sh":{"highlights":[{"line":8}],"fileName":"curl command in a terminal","type":"file","fileType":"","syntax":"","identifier":"03-04-05-curl.sh","content":["# shellcheck disable=all","","curl --header \"Content-Type: application\/json\" \\","     --request POST                            \\","     --data '{\"number\": 3}'                    \\","     http:\/\/localhost:7000\/invoke","","{\"result\":9}"]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function#Invoke-your-Lambda-function":{"type":"section","role":"pseudoSymbol","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function#Invoke-your-Lambda-function","kind":"section","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Invoke-your-Lambda-function","title":"Invoke your Lambda function"}}}