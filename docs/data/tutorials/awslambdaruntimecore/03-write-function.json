{"schemaVersion":{"minor":3,"major":0,"patch":0},"metadata":{"category":"AWS Lambda functions in Swift","title":"Write your first Lambda function","role":"project","categoryPathComponent":"table-of-content"},"hierarchy":{"modules":[{"projects":[{"sections":[],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/01-overview"},{"sections":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda#When-to-use-AWS-Lambda","kind":"heading"}],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-prerequisites","sections":[]}],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Before-getting-started"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Your-first-Lambda-function-in-Swift","projects":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function","sections":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Initialize-a-new-project","kind":"task"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Add-the-project-dependencies","kind":"task"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Write-the-function-code","kind":"task"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Test-Your-Code-Locally","kind":"task"}]}]},{"projects":[{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function","sections":[{"kind":"task","reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Compile-for-Amazon-Linux"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Create-an-Lambda-Function","kind":"task"},{"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Invoke-your-Lambda-function","kind":"task"}]}],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Deploy-your-code-to-the-cloud"}],"paths":[["doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content","doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/$volume","doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Your-first-Lambda-function-in-Swift"]],"reference":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content"},"identifier":{"url":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function","interfaceLanguage":"swift"},"kind":"project","sections":[{"title":"Write your first Lambda function","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}]},{"inlineContent":[{"type":"text","text":"In this example, we will create a Lambda function that receives a text and checks if this text is a palindrome or not."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"text","text":"A palindrome is a word or phrase that reads the same forward and backward."}]}],"chapter":"Your first Lambda function in Swift","kind":"hero","estimatedTimeInMinutes":15},{"tasks":[{"stepsSection":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Start in your development folder."}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Open a Terminal and create a directory for your Lambda function."}]}],"media":null,"code":"03-01-01-package-init.sh","runtimePreview":null,"type":"step","caption":[]},{"type":"step","media":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Initialize a new Swift package for an executable target.","type":"text"}]}],"caption":[],"runtimePreview":null,"code":"03-01-02-package-init.sh"},{"code":"03-01-03-package-init.sh","type":"step","runtimePreview":null,"content":[{"inlineContent":[{"type":"text","text":"Open Xcode in this newly created directory."}],"type":"paragraph"}],"caption":[],"media":null},{"media":null,"code":"03-01-04-package-init.sh","caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"Alternatively, if you use VSCode, use the ","type":"text"},{"code":"code","type":"codeVoice"},{"type":"text","text":" command to open VSCode in your project repository."}]}],"type":"step","runtimePreview":null},{"media":"03-01-xcode.png","code":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"If you are an iOS developer, you might wonder what is a ","type":"text"},{"code":"Package.swift","type":"codeVoice"},{"type":"text","text":". In simple terms, your "},{"code":"Package.swift","type":"codeVoice"},{"type":"text","text":" defines the dependencies your code has and what products (libraries and\/or executables) your code offers."}]}],"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In your development environment, expand the project if necessary and open the file "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":"."}]}],"runtimePreview":null,"type":"step"}],"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a new swift project and open Xcode."}]}],"media":"03-01-terminal-package-init.png","kind":"contentAndMedia","mediaPosition":"trailing"}],"anchor":"Initialize-a-new-project","title":"Initialize a new project"},{"stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In the Xcode editor, replace the content of "},{"type":"codeVoice","code":"Package.swift"},{"type":"text","text":" with the file on the right side of the screen."}]}],"media":null,"code":"03-02-01-package.swift","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It defines a package for a project named "},{"code":"Palindrome","type":"codeVoice"},{"text":". The package name only matters when you build a library that is used by other Swift packages.","type":"text"}]},{"style":"note","name":"Note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Comments are important here, do not skip them. They define the minimum version of Swift to use."}]}],"type":"aside"}],"runtimePreview":null,"type":"step"},{"runtimePreview":null,"code":"03-02-02-package.swift","type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Add the ","type":"text"},{"type":"codeVoice","code":"platform"},{"type":"text","text":" section."}]}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It defines on which Apple platforms the code can be executed. Since Lambda functions are supposed to be run on Linux servers with Amazon Linux 2, it is reasonable to make them run only on macOS, for debugging for example. It does not make sense to run this code on iOS, iPadOS, tvOS, and watchOS."}]}],"media":null},{"code":"03-02-03-package.swift","type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Add the ","type":"text"},{"type":"codeVoice","code":"dependencies"},{"text":" section.","type":"text"}]}],"media":null,"runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"It defines what external libraries your code depends on. To run code within AWS Lambda youâ€™ll need a runtime that handles the communication with the ","type":"text"},{"identifier":"https:\/\/docs.aws.amazon.com\/lambda\/latest\/dg\/runtimes-api.html","isActive":true,"type":"reference"},{"type":"text","text":". This is what the "},{"code":"AWSLambdaRuntime","type":"codeVoice"},{"text":" is for. You import it by specifying its GitHub url: ","type":"text"},{"type":"codeVoice","code":"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git"},{"text":".","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Add the ","type":"text"},{"code":"target","type":"codeVoice"},{"text":" section.","type":"text"}],"type":"paragraph"}],"media":null,"runtimePreview":null,"caption":[{"type":"paragraph","inlineContent":[{"text":"In the ","type":"text"},{"code":"targets","type":"codeVoice"},{"type":"text","text":" section you specify your own targets. They are pretty comparable to targets you specify within an Xcode project (thatâ€™s probably why they share the name ðŸ˜Ž). In our example we only want to create an executable that is called "},{"code":"PalindromeLambda","type":"codeVoice"},{"text":". An executable must have an entrypoint. This can be either a ","type":"text"},{"type":"codeVoice","code":"main.swift"},{"text":" or an object that is marked with ","type":"text"},{"code":"@main","type":"codeVoice"},{"type":"text","text":". For Lambda we will use the "},{"code":"@main","type":"codeVoice"},{"text":" approach.","type":"text"}]}],"type":"step","code":"03-02-04-package.swift"},{"content":[{"inlineContent":[{"text":"Add the ","type":"text"},{"code":"product","type":"codeVoice"},{"type":"text","text":" section."}],"type":"paragraph"}],"code":"03-02-05-package.swift","type":"step","caption":[{"inlineContent":[{"type":"text","text":"To advertise our "},{"code":"executableTarget","type":"codeVoice"},{"type":"text","text":" as a product of our package, we add it to the "},{"code":"products","type":"codeVoice"},{"type":"text","text":" section."}],"type":"paragraph"}],"media":null,"runtimePreview":null}],"contentSection":[{"media":"03-02-swift-package-manager.png","mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prepare "},{"type":"codeVoice","code":"Package.swift"},{"text":" to define the project targets and dependencies.","type":"text"}]}]}],"title":"Add the project dependencies","anchor":"Add-the-project-dependencies"},{"stepsSection":[{"runtimePreview":null,"content":[{"inlineContent":[{"text":"Open the ","type":"text"},{"type":"codeVoice","code":"main.swift"},{"type":"text","text":" file, remove the code generated and write the code to represent the request sent to your Lambda function."}],"type":"paragraph"}],"caption":[{"inlineContent":[{"type":"text","text":"Input parameters must conform to the "},{"type":"codeVoice","code":"Decodable"},{"text":" protocol. This ensures that your Lambda function accepts any JSON input.","type":"text"}],"type":"paragraph"},{"content":[{"type":"paragraph","inlineContent":[{"text":"When your function is triggered by another AWS service, we modeled most of the input and output data format for you. You can add the dependency on ","type":"text"},{"type":"reference","identifier":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","isActive":true},{"type":"text","text":" and import "},{"type":"codeVoice","code":"AWSLambdaEvents"},{"type":"text","text":" in your code."}]}],"style":"note","name":"Note","type":"aside"}],"type":"step","media":null,"code":"03-03-01-main.swift"},{"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Output parameters must conform to the "},{"code":"Encodable","type":"codeVoice"},{"text":" protocol. This ensures that your Lambda function returns a valid JSON output. Your function might also return ","type":"text"},{"code":"Void","type":"codeVoice"},{"type":"text","text":" if it does not return any value."}]},{"style":"note","type":"aside","content":[{"inlineContent":[{"text":"You can also write function that stream a response back to the caller. This is useful when you have a large amount of data to return. See the ","type":"text"},{"isActive":true,"type":"reference","identifier":"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime\/tree\/main\/Examples\/Streaming"},{"text":" for more information.","type":"text"}],"type":"paragraph"}],"name":"Note"}],"media":null,"type":"step","runtimePreview":null,"content":[{"inlineContent":[{"text":"Write the code to represent the response returned by your Lambda function.","type":"text"}],"type":"paragraph"}],"code":"03-03-02-main.swift"},{"runtimePreview":null,"type":"step","code":"03-03-03-main.swift","content":[{"inlineContent":[{"type":"text","text":"Write your business logic."}],"type":"paragraph"}],"caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In real life project, this will be the most complex part of your code. It will live in spearate files or libraries. For this example, we will keep it simple and just return "},{"code":"true","type":"codeVoice"},{"text":" if a ","type":"text"},{"type":"codeVoice","code":"String"},{"text":" is a palindrome.","type":"text"}]}],"media":null},{"caption":[],"media":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add an "},{"code":"import","type":"codeVoice"},{"type":"text","text":" statement to import the "},{"code":"AWSLambdaRuntime","type":"codeVoice"},{"type":"text","text":" library."}]}],"code":"03-03-04-main.swift","runtimePreview":null},{"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a "},{"code":"LambdaRuntime","type":"codeVoice"},{"type":"text","text":" struct and add a handler function that will be called by the Lambda runtime."}]}],"media":null,"code":"03-03-05-main.swift","caption":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This function is passed as a closure to the initializer of the "},{"code":"LambdaRuntime","type":"codeVoice"},{"type":"text","text":" struct. It accepts two parameters: the input event and the context. The input event is the JSON payload sent to your Lambda function. The context provides information about the function, such as the function name, memory limit, and log group name. The function returns the output event, which is the JSON payload returned by your Lambda function or Void if your function does not return any value."}]}],"type":"step"},{"caption":[{"inlineContent":[{"type":"text","text":"In this example, we call the "},{"type":"codeVoice","code":"isPalindrome(_:)"},{"type":"text","text":" function to check if the input string is a palindrome. Then, we create a response with the result of the check."}],"type":"paragraph"}],"code":"03-03-06-main.swift","runtimePreview":null,"media":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Add the business logic to the handler function and return the response.","type":"text"}]}]},{"media":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Start the runtime by calling the ","type":"text"},{"type":"codeVoice","code":"run()"},{"type":"text","text":" function."}]}],"code":"03-03-07-main.swift","caption":[{"inlineContent":[{"type":"text","text":"This function starts the Lambda runtime and listens for incoming requests. When a request is received, it calls the handler function with the input event and context. The handler function processes the request and returns the output event. The runtime sends the output event back to the caller. This function might "},{"type":"codeVoice","code":"throw"},{"text":" an error if the runtime fails to process an event or if the handler function throws an error. This function is asynchronous and does not return until the runtime is stopped.","type":"text"}],"type":"paragraph"}],"runtimePreview":null,"type":"step"}],"title":"Write the function code","contentSection":[{"kind":"contentAndMedia","media":"03-03-swift-code-xcode.png","content":[{"inlineContent":[{"text":"Now that our project structure is ready, letâ€™s write the code of your Lambda function. Perform the following steps in Xcode or another IDE of your choice.","type":"text"}],"type":"paragraph"}],"mediaPosition":"trailing"}],"anchor":"Write-the-function-code"},{"contentSection":[{"media":"03-04-test-locally.png","kind":"contentAndMedia","mediaPosition":"trailing","content":[{"inlineContent":[{"type":"text","text":"Before to deploy your Lambda to AWS, you want to ensure that it works on your local machine."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The "},{"code":"AWSLambdaRuntime","type":"codeVoice"},{"text":" embeds a simple web server you can start and use to send your requests to your Lambda function.","type":"text"}],"type":"paragraph"}]}],"title":"Test Your Code Locally","anchor":"Test-Your-Code-Locally","stepsSection":[{"type":"paragraph","inlineContent":[{"text":"The embedded web server starts only when compiling in ","type":"text"},{"code":"DEBUG","type":"codeVoice"},{"type":"text","text":" mode and when the code is not run inside a Lambda function environment. You will start the test server directly from Xcode."}]},{"media":"03-04-01-compile-run.png","type":"step","caption":[],"runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Compile and run your project. Click on the ","type":"text"},{"type":"codeVoice","code":"Run"},{"text":" button (â–¶ï¸) in Xcode.","type":"text"}]}],"code":null},{"media":null,"type":"step","caption":[],"code":"03-04-02-console-output.sh","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Verify the server is correctlys started. You should see the following output in the console."}]}]},{"type":"step","code":"03-04-03-curl.sh","media":null,"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Now that the local server started, open a Terminal and use "},{"code":"curl","type":"codeVoice"},{"text":" or any other HTTP client to POST your input payload to ","type":"text"},{"code":"127.0.0.1:7000","type":"codeVoice"},{"type":"text","text":"."}]}],"caption":[],"runtimePreview":null},{"code":"03-04-04-curl.sh","media":null,"runtimePreview":null,"content":[{"inlineContent":[{"text":"When you pass ","type":"text"},{"code":"'{\"text\": \"Was it a car or a cat I saw?\"}'","type":"codeVoice"},{"type":"text","text":", you should receive the response "},{"type":"codeVoice","code":"{\"message\":\"Your text is a palindrome\",\"isPalindrome\":true,\"text\":\"Was it a car or a cat I saw?\"}"}],"type":"paragraph"}],"caption":[{"style":"note","type":"aside","name":"Note","content":[{"type":"paragraph","inlineContent":[{"text":"Do not forget to stop the running scheme in Xcode (â¹ï¸) when youâ€™re done.","type":"text"}]}]}],"type":"step"},{"type":"paragraph","inlineContent":[{"text":"Alternatively, you can use the command line from the Terminal.","type":"text"}]},{"code":"03-04-06-terminal.sh","content":[{"inlineContent":[{"type":"text","text":"Use the command "},{"type":"codeVoice","code":"swift run"},{"text":" to start the local embedded web server.","type":"text"}],"type":"paragraph"}],"type":"step","caption":[],"media":null,"runtimePreview":null},{"content":[{"inlineContent":[{"text":"You should see the following output in the console.","type":"text"}],"type":"paragraph"}],"code":"03-04-07-terminal.sh","media":null,"type":"step","runtimePreview":null,"caption":[]},{"caption":[{"style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Do not forget to stop the local server with "},{"type":"codeVoice","code":"CTRL-C"},{"text":" when youâ€™re done.","type":"text"}]}],"name":"Note"}],"content":[{"inlineContent":[{"text":"Now that the local server started, open a second tab in the Terminal and use ","type":"text"},{"type":"codeVoice","code":"curl"},{"type":"text","text":" or any other HTTP client to POST your input payload to "},{"type":"codeVoice","code":"127.0.0.1:7000"},{"type":"text","text":"."}],"type":"paragraph"}],"runtimePreview":null,"media":null,"code":"03-04-03-curl.sh","type":"step"}]}],"kind":"tasks"},{"kind":"callToAction","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"title":"Deploy your function to AWS Lambda","featuredEyebrow":"Tutorial","action":{"isActive":true,"type":"reference","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function","overridingTitle":"Get started","overridingTitleInlineContent":[{"type":"text","text":"Get started"}]}}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/awslambdaruntimecore\/03-write-function"]}],"references":{"03-03-swift-code-xcode.png":{"type":"image","alt":"Swift code in Xcode","identifier":"03-03-swift-code-xcode.png","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-03-swift-code-xcode.png","traits":["1x","light"]}]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/01-overview":{"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/01-overview","abstract":[],"role":"article","estimatedTime":"1min","title":"Overview","type":"topic","kind":"article","url":"\/tutorials\/awslambdaruntimecore\/01-overview"},"03-03-07-main.swift":{"content":["import AWSLambdaRuntime","","\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}","","\/\/ the data structure to represent the response parameter","struct Response: Encodable {","    let text: String","    let isPalindrome: Bool","    let message: String","}","","\/\/ the business function","func isPalindrome(_ text: String) -> Bool {","    let cleanedText = text.lowercased().filter { $0.isLetter }","    return cleanedText == String(cleanedText.reversed())","}","","\/\/ the lambda handler function","let runtime = LambdaRuntime {","    (event: Request, context: LambdaContext) -> Response in","","    \/\/ call the business function and return a response","    let result = isPalindrome(event.text)","    return Response(","        text: event.text,","        isPalindrome: result,","        message: \"Your text is \\(result ? \"a\" : \"not a\") palindrome\"","    )","}","","\/\/ start the runtime","try await runtime.run()"],"fileName":"main.swift","syntax":"swift","identifier":"03-03-07-main.swift","type":"file","fileType":"swift","highlights":[{"line":33},{"line":34},{"line":35}]},"03-01-04-package-init.sh":{"syntax":"","fileType":"","highlights":[{"line":9},{"line":10},{"line":11}],"type":"file","identifier":"03-01-04-package-init.sh","fileName":"Commands to type in the Terminal","content":["# Create a project directory","mkdir Palindrome && cd Palindrome","","# create a skeleton project","swift package init --type executable ","","# open Xcode in the current directory","xed .","","# alternatively, you may open VSCode","code ."]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function#Create-an-Lambda-Function":{"url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function#Create-an-Lambda-Function","kind":"section","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Create-an-Lambda-Function","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"title":"Create an Lambda Function","type":"section","role":"pseudoSymbol"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-prerequisites":{"title":"Prerequisites","url":"\/tutorials\/awslambdaruntimecore\/03-prerequisites","type":"topic","role":"article","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-prerequisites","estimatedTime":"3min","kind":"article","abstract":[]},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Test-Your-Code-Locally":{"abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"title":"Test Your Code Locally","role":"pseudoSymbol","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Test-Your-Code-Locally","type":"section","kind":"section","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Test-Your-Code-Locally"},"03-03-03-main.swift":{"type":"file","fileType":"swift","highlights":[{"line":12},{"line":13},{"line":14},{"line":15},{"line":16},{"line":17}],"content":["\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}","","\/\/ the data structure to represent the response parameter","struct Response: Encodable {","    let text: String","    let isPalindrome: Bool","    let message: String","}","","\/\/ the business function","func isPalindrome(_ text: String) -> Bool {","    let cleanedText = text.lowercased().filter { $0.isLetter }","    return cleanedText == String(cleanedText.reversed())","}"],"fileName":"main.swift","syntax":"swift","identifier":"03-03-03-main.swift"},"03-04-01-compile-run.png":{"type":"image","alt":"Compile and run the project","identifier":"03-04-01-compile-run.png","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-04-01-compile-run~dark@2x.png","traits":["2x","dark"]}]},"03-02-swift-package-manager.png":{"identifier":"03-02-swift-package-manager.png","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-02-swift-package-manager.png","traits":["1x","light"]}],"alt":"Swift Package Manager icon as a box","type":"image"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Initialize-a-new-project":{"url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Initialize-a-new-project","kind":"section","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Initialize-a-new-project","type":"section","abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"title":"Initialize a new project","role":"pseudoSymbol"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/02-what-is-lambda#When-to-use-AWS-Lambda":{"type":"section","title":"When to use AWS Lambda","kind":"section","abstract":[],"role":"pseudoSymbol","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda#When-to-use-AWS-Lambda","url":"\/tutorials\/awslambdaruntimecore\/02-what-is-lambda#When-to-use-AWS-Lambda"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function":{"role":"project","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"kind":"project","type":"topic","estimatedTime":"15min","title":"Deploy your function to AWS Lambda","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function"},"03-02-05-package.swift":{"fileType":"swift","syntax":"swift","highlights":[{"line":16},{"line":17},{"line":18},{"line":19},{"line":20},{"line":21},{"line":22},{"line":23},{"line":24}],"type":"file","identifier":"03-02-05-package.swift","fileName":"Package.swift","content":["\/\/ swift-tools-version:6.0","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"Palindrome\",","    platforms: [","        .macOS(.v15)","    ],","    products: [","        .executable(name: \"PalindromeLambda\", targets: [\"PalindromeLambda\"])","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", branch: \"main\")","    ],","    targets: [","        .executableTarget(","            name: \"PalindromeLambda\",","            dependencies: [","                .product(name: \"AWSLambdaRuntime\", package: \"swift-aws-lambda-runtime\")","            ],","            path: \"Sources\"","        )","    ]",")"]},"03-04-06-terminal.sh":{"type":"file","fileType":"","highlights":[{"line":1}],"syntax":"","content":["swift run"],"fileName":"curl command in a terminal","identifier":"03-04-06-terminal.sh"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content/Your-first-Lambda-function-in-Swift":{"kind":"article","type":"topic","abstract":[],"url":"\/tutorials\/table-of-content\/your-first-lambda-function-in-swift","title":"Your first Lambda function in Swift","role":"article","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Your-first-Lambda-function-in-Swift"},"03-01-01-package-init.sh":{"fileType":"","syntax":"","highlights":[],"type":"file","identifier":"03-01-01-package-init.sh","fileName":"Commands to type in the Terminal","content":["# Create a project directory","mkdir Palindrome && cd Palindrome"]},"03-04-04-curl.sh":{"type":"file","fileType":"","highlights":[{"line":6},{"line":7}],"syntax":"","content":["curl --header \"Content-Type: application\/json\"          \\","     --request POST                                     \\","     --data '{\"text\": \"Was it a car or a cat I saw?\"}'  \\","     http:\/\/127.0.0.1:7000\/invoke","","{\"message\":\"Your text is a palindrome\",\"isPalindrome\":true,\"text\":\"Was it a car or a cat I saw?\"}",""],"fileName":"curl command in a terminal","identifier":"03-04-04-curl.sh"},"03-02-02-package.swift":{"content":["\/\/ swift-tools-version:6.0","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"Palindrome\",","    platforms: [","        .macOS(.v15)","    ]",")"],"syntax":"swift","fileType":"swift","fileName":"Package.swift","type":"file","highlights":[{"line":7},{"line":8},{"line":9},{"line":10}],"identifier":"03-02-02-package.swift"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Write-the-function-code":{"title":"Write the function code","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Write-the-function-code","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Write-the-function-code","kind":"section","abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}]},"03-03-02-main.swift":{"type":"file","fileType":"swift","highlights":[{"line":5},{"line":6},{"line":7},{"line":8},{"line":9},{"line":10},{"line":11}],"syntax":"swift","content":["\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}","","\/\/ the data structure to represent the response parameter","struct Response: Encodable {","    let text: String","    let isPalindrome: Bool","    let message: String","}"],"fileName":"main.swift","identifier":"03-03-02-main.swift"},"03-01-terminal-package-init.png":{"alt":"A Terminal with package init command","identifier":"03-01-terminal-package-init.png","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-01-terminal-package-init.png","traits":["1x","light"]}],"type":"image"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function#Compile-for-Amazon-Linux":{"abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"type":"section","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Compile-for-Amazon-Linux","role":"pseudoSymbol","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function#Compile-for-Amazon-Linux","kind":"section","title":"Compile for Amazon Linux"},"03-03-06-main.swift":{"type":"file","fileType":"swift","highlights":[{"line":25},{"line":26},{"line":27},{"line":28},{"line":29},{"line":30},{"line":31}],"syntax":"swift","content":["import AWSLambdaRuntime","","\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}","","\/\/ the data structure to represent the response parameter","struct Response: Encodable {","    let text: String","    let isPalindrome: Bool","    let message: String","}","","\/\/ the business function","func isPalindrome(_ text: String) -> Bool {","    let cleanedText = text.lowercased().filter { $0.isLetter }","    return cleanedText == String(cleanedText.reversed())","}","","\/\/ the lambda handler function","let runtime = LambdaRuntime {","    (event: Request, context: LambdaContext) -> Response in","","    \/\/ call the business function and return a response","    let result = isPalindrome(event.text)","    return Response(","        text: event.text,","        isPalindrome: result,","        message: \"Your text is \\(result ? \"a\" : \"not a\") palindrome\"","    )","}"],"fileName":"main.swift","identifier":"03-03-06-main.swift"},"03-03-01-main.swift":{"fileType":"swift","syntax":"swift","highlights":[],"type":"file","identifier":"03-03-01-main.swift","fileName":"main.swift","content":["\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}"]},"03-04-test-locally.png":{"identifier":"03-04-test-locally.png","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-04-test-locally.png","traits":["1x","light"]}],"alt":"Icons of succeeded and failed tests","type":"image"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content/Deploy-your-code-to-the-cloud":{"title":"Deploy your code to the cloud","url":"\/tutorials\/table-of-content\/deploy-your-code-to-the-cloud","type":"topic","role":"article","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Deploy-your-code-to-the-cloud","kind":"article","abstract":[]},"03-01-xcode.png":{"alt":"project open in Xcode","variants":[{"url":"\/images\/AWSLambdaRuntimeCore\/03-01-xcode@2x.png","traits":["2x","light"]},{"url":"\/images\/AWSLambdaRuntimeCore\/03-01-xcode~dark@2x.png","traits":["2x","dark"]}],"identifier":"03-01-xcode.png","type":"image"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/02-what-is-lambda":{"role":"article","url":"\/tutorials\/awslambdaruntimecore\/02-what-is-lambda","abstract":[],"kind":"article","type":"topic","estimatedTime":"3min","title":"What is AWS Lambda","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/02-what-is-lambda"},"https://docs.aws.amazon.com/lambda/latest/dg/runtimes-api.html":{"type":"link","title":"Lambda Runtime Interface","identifier":"https:\/\/docs.aws.amazon.com\/lambda\/latest\/dg\/runtimes-api.html","titleInlineContent":[{"text":"Lambda Runtime Interface","type":"text"}],"url":"https:\/\/docs.aws.amazon.com\/lambda\/latest\/dg\/runtimes-api.html"},"03-03-05-main.swift":{"type":"file","fileType":"swift","highlights":[{"line":20},{"line":21},{"line":22},{"line":23},{"line":24},{"line":25}],"identifier":"03-03-05-main.swift","content":["import AWSLambdaRuntime","","\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}","","\/\/ the data structure to represent the response parameter","struct Response: Encodable {","    let text: String","    let isPalindrome: Bool","    let message: String","}","","\/\/ the business function","func isPalindrome(_ text: String) -> Bool {","    let cleanedText = text.lowercased().filter { $0.isLetter }","    return cleanedText == String(cleanedText.reversed())","}","","\/\/ the lambda handler function","let runtime = LambdaRuntime {","    (event: Request, context: LambdaContext) -> Response in","","}"],"fileName":"main.swift","syntax":"swift"},"https://github.com/swift-server/swift-aws-lambda-runtime/tree/main/Examples/Streaming":{"type":"link","title":"Lambda Streaming example","identifier":"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime\/tree\/main\/Examples\/Streaming","titleInlineContent":[{"text":"Lambda Streaming example","type":"text"}],"url":"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime\/tree\/main\/Examples\/Streaming"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content/Before-getting-started":{"abstract":[],"title":"Before getting started","role":"article","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content\/Before-getting-started","type":"topic","kind":"article","url":"\/tutorials\/table-of-content\/before-getting-started"},"03-01-03-package-init.sh":{"fileType":"","syntax":"","highlights":[{"line":6},{"line":7},{"line":8}],"type":"file","identifier":"03-01-03-package-init.sh","content":["# Create a project directory","mkdir Palindrome && cd Palindrome","","# create a skeleton project","swift package init --type executable ","","# open Xcode in the current directory","xed ."],"fileName":"Commands to type in the Terminal"},"03-02-03-package.swift":{"type":"file","fileType":"swift","highlights":[{"line":10},{"line":11},{"line":12}],"syntax":"swift","fileName":"Package.swift","content":["\/\/ swift-tools-version:6.0","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"Palindrome\",","    platforms: [","        .macOS(.v15)","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", branch: \"main\")","    ]",")"],"identifier":"03-02-03-package.swift"},"03-04-07-terminal.sh":{"content":["swift run","","Building for debugging...","[1\/1] Write swift-version--58304C5D6DBC2206.txt","Build of product 'PalindromeLambda' complete! (0.11s)","2025-01-02T15:12:49+0100 info LocalLambdaServer : [AWSLambdaRuntimeCore] LocalLambdaServer started and listening on 127.0.0.1:7000, receiving events on \/invoke"],"identifier":"03-04-07-terminal.sh","syntax":"","fileType":"","type":"file","fileName":"curl command in a terminal","highlights":[{"line":2},{"line":3},{"line":4},{"line":5},{"line":6}]},"03-04-02-console-output.sh":{"content":["2025-01-02T14:59:29+0100 info LocalLambdaServer : [AWSLambdaRuntimeCore] ","LocalLambdaServer started and listening on 127.0.0.1:7000, receiving events on \/invoke"],"fileName":"Console output","syntax":"","identifier":"03-04-02-console-output.sh","type":"file","fileType":"","highlights":[]},"03-04-03-curl.sh":{"content":["curl --header \"Content-Type: application\/json\"          \\","     --request POST                                     \\","     --data '{\"text\": \"Was it a car or a cat I saw?\"}'  \\","     http:\/\/127.0.0.1:7000\/invoke",""],"fileName":"curl command in a terminal","syntax":"","identifier":"03-04-03-curl.sh","type":"file","fileType":"","highlights":[{"line":1},{"line":2},{"line":3},{"line":4}]},"03-02-04-package.swift":{"type":"file","fileType":"swift","highlights":[{"line":11},{"line":12},{"line":13}],"syntax":"swift","fileName":"Package.swift","content":["\/\/ swift-tools-version:6.0","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"Palindrome\",","    platforms: [","        .macOS(.v15)","    ],","    products: [","        .executable(name: \"PalindromeLambda\", targets: [\"PalindromeLambda\"])","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", branch: \"main\")","    ]",")"],"identifier":"03-02-04-package.swift"},"03-02-01-package.swift":{"content":["\/\/ swift-tools-version:6.0","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"Palindrome\"",")"],"fileName":"Package.swift","syntax":"swift","identifier":"03-02-01-package.swift","type":"file","fileType":"swift","highlights":[]},"03-01-02-package-init.sh":{"type":"file","fileType":"","highlights":[{"line":3},{"line":4},{"line":5}],"syntax":"","fileName":"Commands to type in the Terminal","content":["# Create a project directory","mkdir Palindrome && cd Palindrome","","# create a skeleton project","swift package init --type executable "],"identifier":"03-01-02-package-init.sh"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/04-deploy-function#Invoke-your-Lambda-function":{"role":"pseudoSymbol","url":"\/tutorials\/awslambdaruntimecore\/04-deploy-function#Invoke-your-Lambda-function","abstract":[{"type":"text","text":"Learn how to package your code for AWS Lambda and to deploy it using the AWS Management Console"}],"kind":"section","type":"section","title":"Invoke your Lambda function","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/04-deploy-function#Invoke-your-Lambda-function"},"https://github.com/swift-server/swift-aws-lambda-events":{"title":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","url":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","titleInlineContent":[{"text":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","type":"text"}],"type":"link","identifier":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events"},"03-03-04-main.swift":{"type":"file","fileType":"swift","highlights":[{"line":1},{"line":2}],"syntax":"swift","fileName":"main.swift","content":["import AWSLambdaRuntime","","\/\/ the data structure to represent the input parameter","struct Request: Decodable {","    let text: String","}","","\/\/ the data structure to represent the response parameter","struct Response: Encodable {","    let text: String","    let isPalindrome: Bool","    let message: String","}","","\/\/ the business function","func isPalindrome(_ text: String) -> Bool {","    let cleanedText = text.lowercased().filter { $0.isLetter }","    return cleanedText == String(cleanedText.reversed())","}"],"identifier":"03-03-04-main.swift"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function#Add-the-project-dependencies":{"abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"type":"section","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function#Add-the-project-dependencies","role":"pseudoSymbol","url":"\/tutorials\/awslambdaruntimecore\/03-write-function#Add-the-project-dependencies","kind":"section","title":"Add the project dependencies"},"doc://AWSLambdaRuntimeCore/tutorials/AWSLambdaRuntimeCore/03-write-function":{"abstract":[{"type":"text","text":"Learn how to create your project, add dependencies, and create and test your first Lambda function in Swift."}],"type":"topic","estimatedTime":"15min","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/AWSLambdaRuntimeCore\/03-write-function","role":"project","url":"\/tutorials\/awslambdaruntimecore\/03-write-function","kind":"project","title":"Write your first Lambda function"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content":{"url":"\/tutorials\/table-of-content","kind":"overview","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content","abstract":[{"type":"text","text":"A step-by-step tutorial to learn how to implement, build, test, and deploy your first Lambda function written in Swift."}],"title":"Your First Lambda Function Written in Swift","type":"topic","role":"overview"}}}