{"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"roleHeading":"Article","title":"Getting Started Quickly","modules":[{"name":"AWSLambdaRuntimeCore"}],"role":"article"},"hierarchy":{"paths":[["doc:\/\/AWSLambdaRuntimeCore\/documentation\/AWSLambdaRuntimeCore"]]},"seeAlsoSections":[{"anchor":"Essentials","identifiers":["doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content","doc:\/\/AWSLambdaRuntimeCore\/documentation\/AWSLambdaRuntimeCore\/Deployment"],"generated":true,"title":"Essentials"}],"primaryContentSections":[{"content":[{"type":"heading","text":"Overview","anchor":"overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Follow these instructions to get a high-level overview of the steps to write, test, and deploy your first Lambda function written in Swift."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For a detailed step-by-step instruction, follow the tutorial instead."}]},{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content","isActive":true,"type":"reference"}]},{"inlineContent":[{"type":"text","text":"For the impatient, keep reading."}],"type":"paragraph"},{"text":"High-level instructions","level":2,"type":"heading","anchor":"High-level-instructions"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Follow these 6 steps to write, test, and deploy a Lambda function in Swift."}]},{"items":[{"content":[{"inlineContent":[{"text":"Create a Swift project for an executable target","type":"text"}],"type":"paragraph"}]}],"type":"orderedList"},{"type":"codeListing","code":["swift package init --type executable "],"syntax":"sh"},{"start":2,"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Add dependencies on "},{"code":"AWSLambdaRuntime","type":"codeVoice"},{"type":"text","text":" library"}]}]}]},{"code":["\/\/ swift-tools-version:5.8","\/\/ The swift-tools-version declares the minimum version of Swift required to build this package.","","import PackageDescription","","let package = Package(","    name: \"YourProjetName\",","    platforms: [","        .macOS(.v15),","    ],","    products: [","        .executable(name: \"MyFirstLambdaFunction\", targets: [\"MyFirstLambdaFunction\"]),","    ],","    dependencies: [","        .package(url: \"https:\/\/github.com\/swift-server\/swift-aws-lambda-runtime.git\", from: \"main\"),","    ],","    targets: [","        .executableTarget(","            name: \"MyFirstLambdaFunction\",","            dependencies: [","                .product(name: \"AWSLambdaRuntime\", package: \"swift-aws-lambda-runtime\"),","            ],","            path: \"Sources\"","        ),","    ]",")"],"syntax":"swift","type":"codeListing"},{"type":"orderedList","start":3,"items":[{"content":[{"inlineContent":[{"text":"Write your function code.","type":"text"}],"type":"paragraph"}]}]},{"style":"note","content":[{"inlineContent":[{"type":"text","text":"Be sure to rename the "},{"code":"main.swift","type":"codeVoice"},{"text":" file to something else.","type":"text"}],"type":"paragraph"}],"type":"aside","name":"Note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Create an instance of "},{"type":"codeVoice","code":"LambdaRuntime"},{"text":" and pass as a closure a function with this signature: ","type":"text"},{"code":"(_ : Event, context: LambdaContext) async throws -> Output","type":"codeVoice"},{"text":" (as defined in the ","type":"text"},{"code":"LambdaHandler","type":"codeVoice"},{"type":"text","text":" protocol). "},{"type":"codeVoice","code":"Event"},{"type":"text","text":" must be "},{"type":"codeVoice","code":"Decodable"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If your Lambda function is invoked by another AWS service, use the "},{"code":"AWSLambdaEvent","type":"codeVoice"},{"type":"text","text":" library at "},{"identifier":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","type":"reference","isActive":true},{"type":"text","text":" to represent the input event."}]},{"inlineContent":[{"text":"Finally, call ","type":"text"},{"type":"codeVoice","code":"runtime.run()"},{"type":"text","text":" to start the event loop."}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ the data structure to represent the input parameter","struct HelloRequest: Decodable {","    let name: String","    let age: Int","}","","\/\/ the data structure to represent the output response","struct HelloResponse: Encodable {","    let greetings: String","}","","\/\/ the Lambda runtime","let runtime = LambdaRuntime {","    (event: HelloRequest, context: LambdaContext) in","","    HelloResponse(","        greetings: \"Hello \\(event.name). You look \\(event.age > 30 ? \"younger\" : \"older\") than your age.\"","    )","}","","\/\/ start the loop","try await runtime.run()"],"type":"codeListing"},{"type":"orderedList","start":4,"items":[{"content":[{"inlineContent":[{"text":"Test your code locally","type":"text"}],"type":"paragraph"}]}]},{"type":"codeListing","syntax":"sh","code":["swift run  # this starts a local server on port 7000","","# Switch to another Terminal tab","","curl --header \"Content-Type: application\/json\" \\","     --request POST                            \\","     --data '{\"name\": \"Seb\", \"age\": 50}'       \\","     http:\/\/localhost:7000\/invoke","","{\"greetings\":\"Hello Seb. You look younger than your age.\"}"]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Build and package your code for AWS Lambda","type":"text"}]}]}],"start":5},{"inlineContent":[{"type":"text","text":"AWS Lambda runtime runs on Amazon Linux. You must compile your code for Amazon Linux."}],"type":"paragraph"},{"content":[{"inlineContent":[{"text":"Be sure to have ","type":"text"},{"type":"reference","identifier":"https:\/\/docs.docker.com\/desktop\/install\/mac-install\/","isActive":true},{"type":"text","text":" installed for this step."}],"type":"paragraph"}],"name":"Note","type":"aside","style":"note"},{"syntax":"sh","code":["swift package --allow-network-connections docker archive","","-------------------------------------------------------------------------","building \"MyFirstLambdaFunction\" in docker","-------------------------------------------------------------------------","updating \"swift:amazonlinux2\" docker image","  amazonlinux2: Pulling from library\/swift","  Digest: sha256:5b0cbe56e35210fa90365ba3a4db9cd2b284a5b74d959fc1ee56a13e9c35b378","  Status: Image is up to date for swift:amazonlinux2","  docker.io\/library\/swift:amazonlinux2","building \"MyFirstLambdaFunction\"","  Building for production...","...","-------------------------------------------------------------------------","archiving \"MyFirstLambdaFunction\"","-------------------------------------------------------------------------","1 archive created","  * MyFirstLambdaFunction at \/Users\/YourUserName\/MyFirstLambdaFunction\/.build\/plugins\/AWSLambdaPackager\/outputs\/AWSLambdaPackager\/MyFirstLambdaFunction\/MyFirstLambdaFunction.zip","","","cp .build\/plugins\/AWSLambdaPackager\/outputs\/AWSLambdaPackager\/MyFirstLambdaFunction\/MyFirstLambdaFunction.zip ~\/Desktop"],"type":"codeListing"},{"start":6,"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Deploy on AWS Lambda"}]}]}],"type":"orderedList"},{"style":"note","content":[{"inlineContent":[{"type":"text","text":"Be sure "},{"type":"reference","identifier":"https:\/\/docs.aws.amazon.com\/accounts\/latest\/reference\/manage-acct-creating.html","isActive":true},{"type":"text","text":" to follow these steps."}],"type":"paragraph"}],"type":"aside","name":"Note"},{"items":[{"content":[{"inlineContent":[{"type":"text","text":"Connect to the "},{"type":"reference","identifier":"https:\/\/console.aws.amazon.com","isActive":true}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Navigate to Lambda","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create a function"}]}]},{"content":[{"inlineContent":[{"text":"Select ","type":"text"},{"inlineContent":[{"text":"Provide your own bootstrap on Amazon Linux 2","type":"text"}],"type":"strong"},{"type":"text","text":" as "},{"type":"strong","inlineContent":[{"type":"text","text":"Runtime"}]}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Select an "},{"type":"strong","inlineContent":[{"type":"text","text":"Architecture"}]},{"type":"text","text":" that matches the one of the machine where you build the code. Select "},{"type":"strong","inlineContent":[{"type":"text","text":"x86_64"}]},{"type":"text","text":" when you build on Intel-based Macs or "},{"inlineContent":[{"text":"arm64","type":"text"}],"type":"strong"},{"type":"text","text":" for Apple Silicon-based Macs."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Upload the ZIP create during step 5","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Select the ","type":"text"},{"inlineContent":[{"type":"text","text":"Test"}],"type":"strong"},{"type":"text","text":" tab, enter a test event such as "},{"type":"codeVoice","code":"{\"name\": \"Seb\", \"age\": 50}"},{"text":" and select ","type":"text"},{"type":"strong","inlineContent":[{"type":"text","text":"Test"}]}]}]}],"type":"unorderedList"},{"inlineContent":[{"type":"text","text":"If the test succeeds, you will see the result: "},{"type":"codeVoice","code":"{\"greetings\":\"Hello Seb. You look younger than your age.\"}"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"Congratulations ðŸŽ‰! You just wrote, test, build, and deployed a Lambda function written in Swift.","type":"text"}],"type":"paragraph"}],"kind":"content"}],"kind":"article","identifier":{"url":"doc:\/\/AWSLambdaRuntimeCore\/documentation\/AWSLambdaRuntimeCore\/quick-setup","interfaceLanguage":"swift"},"sections":[],"abstract":[{"text":"Learn how to create your first project in 3 minutes.","type":"text"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/awslambdaruntimecore\/quick-setup"]}],"references":{"https://docs.aws.amazon.com/accounts/latest/reference/manage-acct-creating.html":{"titleInlineContent":[{"type":"text","text":"to have an AWS Account"}],"url":"https:\/\/docs.aws.amazon.com\/accounts\/latest\/reference\/manage-acct-creating.html","identifier":"https:\/\/docs.aws.amazon.com\/accounts\/latest\/reference\/manage-acct-creating.html","title":"to have an AWS Account","type":"link"},"doc://AWSLambdaRuntimeCore/tutorials/table-of-content":{"title":"Your First Lambda Function Written in Swift","abstract":[{"text":"A step-by-step tutorial to learn how to implement, build, test, and deploy your first Lambda function written in Swift.","type":"text"}],"url":"\/tutorials\/table-of-content","kind":"overview","type":"topic","role":"overview","identifier":"doc:\/\/AWSLambdaRuntimeCore\/tutorials\/table-of-content"},"doc://AWSLambdaRuntimeCore/documentation/AWSLambdaRuntimeCore":{"url":"\/documentation\/awslambdaruntimecore","type":"topic","identifier":"doc:\/\/AWSLambdaRuntimeCore\/documentation\/AWSLambdaRuntimeCore","role":"collection","abstract":[{"type":"text","text":"An AWS Lambda runtime for the Swift programming language"}],"kind":"symbol","title":"AWSLambdaRuntimeCore"},"https://docs.docker.com/desktop/install/mac-install/":{"titleInlineContent":[{"text":"Docker","type":"text"}],"url":"https:\/\/docs.docker.com\/desktop\/install\/mac-install\/","identifier":"https:\/\/docs.docker.com\/desktop\/install\/mac-install\/","type":"link","title":"Docker"},"https://github.com/swift-server/swift-aws-lambda-events":{"titleInlineContent":[{"type":"text","text":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events"}],"url":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","identifier":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","title":"https:\/\/github.com\/swift-server\/swift-aws-lambda-events","type":"link"},"https://console.aws.amazon.com":{"titleInlineContent":[{"text":"AWS Console","type":"text"}],"url":"https:\/\/console.aws.amazon.com","identifier":"https:\/\/console.aws.amazon.com","type":"link","title":"AWS Console"},"doc://AWSLambdaRuntimeCore/documentation/AWSLambdaRuntimeCore/Deployment":{"abstract":[{"text":"Learn how to deploy your Swift Lambda functions to AWS.","type":"text"}],"type":"topic","title":"Deploying your Swift Lambda functions","url":"\/documentation\/awslambdaruntimecore\/deployment","identifier":"doc:\/\/AWSLambdaRuntimeCore\/documentation\/AWSLambdaRuntimeCore\/Deployment","kind":"article","role":"article"}}}